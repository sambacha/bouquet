{"version":3,"file":"Navbar.js","sourceRoot":"","sources":["../../ts/components/Navbar.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Signal, useSignal } from '@preact/signals'\nimport { utils } from 'ethers'\nimport { MEV_RELAY_GOERLI, MEV_RELAY_MAINNET } from '../constants.js'\nimport { ProviderStore } from '../library/provider.js'\nimport { AppSettings, BlockInfo } from '../types/types.js'\nimport { SettingsIcon, SettingsModal } from './Settings.js'\n\nexport const Navbar = ({\n\tblockInfo,\n\tprovider,\n\tappSettings\n}: {\n\tblockInfo: Signal<BlockInfo>,\n\tprovider: Signal<ProviderStore | undefined>,\n\tappSettings: Signal<AppSettings>\n}) => {\n\tconst switchNetwork = async (e: Event) => {\n\t\tconst elm = e.target as HTMLSelectElement\n\t\tconst relayEndpoint = elm.value\n\t\tif (!provider.value) {\n\t\t\tappSettings.value = { ...appSettings.peek(), relayEndpoint }\n\t\t} else {\n\t\t\tprovider.peek()?.provider.send('wallet_switchEthereumChain', [{ chainId: relayEndpoint === MEV_RELAY_MAINNET ? '0x1' : '0x5' }])\n\t\t}\n\t}\n\n\tconst showSettings = useSignal(false)\n\n\treturn (\n\t\t<div className='flex flex-col sm:flex-row items-center justify-between gap-4 p-4 border-b border-slate-400/30'>\n\t\t\t<h1 className='font-extrabold text-4xl'>üíê</h1>\n\t\t\t<div className='flex gap-4 items-center'>\n\t\t\t\t{provider.value ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<span className='flex items-center gap-2'>\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName='inline-block h-6'\n\t\t\t\t\t\t\t\taria-hidden='true'\n\t\t\t\t\t\t\t\tfill='none'\n\t\t\t\t\t\t\t\tstroke='currentColor'\n\t\t\t\t\t\t\t\tstroke-width='1.5'\n\t\t\t\t\t\t\t\tviewBox='0 0 24 24'\n\t\t\t\t\t\t\t\txmlns='http://www.w3.org/2000/svg'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\td='M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9'\n\t\t\t\t\t\t\t\t\tstroke-linecap='round'\n\t\t\t\t\t\t\t\t\tstroke-linejoin='round'\n\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t</svg>{' '}\n\t\t\t\t\t\t\t{Number(blockInfo.value.blockNumber.toString()).toLocaleString('en-us')}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span className='flex items-center gap-2'>\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tclassName='h-6'\n\t\t\t\t\t\t\t\taria-hidden='true'\n\t\t\t\t\t\t\t\tfill='none'\n\t\t\t\t\t\t\t\tstroke='currentColor'\n\t\t\t\t\t\t\t\tstroke-width='1.5'\n\t\t\t\t\t\t\t\tviewBox='0 0 24 24'\n\t\t\t\t\t\t\t\txmlns='http://www.w3.org/2000/svg'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\td='M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.361-6.867 8.21 8.21 0 003 2.48z'\n\t\t\t\t\t\t\t\t\tstroke-linecap='round'\n\t\t\t\t\t\t\t\t\tstroke-linejoin='round'\n\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\td='M12 18a3.75 3.75 0 00.495-7.467 5.99 5.99 0 00-1.925 3.546 5.974 5.974 0 01-2.133-1A3.75 3.75 0 0012 18z'\n\t\t\t\t\t\t\t\t\tstroke-linecap='round'\n\t\t\t\t\t\t\t\t\tstroke-linejoin='round'\n\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\tBase {Number(utils.formatUnits(blockInfo.value.baseFee, 'gwei')).toLocaleString('en-us')} gwei\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\t<p>No Wallet Connected</p>\n\t\t\t\t)}\n\t\t\t\t<select\n\t\t\t\t\tvalue={appSettings.value.relayEndpoint}\n\t\t\t\t\tonChange={switchNetwork}\n\t\t\t\t\tclassName='px-4 py-2 rounded-xl border border-slate-200/70 border-2 bg-background'\n\t\t\t\t>\n\t\t\t\t\t<option value={MEV_RELAY_MAINNET}>Ethereum</option>\n\t\t\t\t\t<option value={MEV_RELAY_GOERLI}>Goerli</option>\n\t\t\t\t\t{appSettings.value.relayEndpoint !== MEV_RELAY_MAINNET && appSettings.value.relayEndpoint !== MEV_RELAY_GOERLI ?\n\t\t\t\t\t\t<option value={appSettings.value.relayEndpoint}>Custom</option>\n\t\t\t\t\t\t: null}\n\t\t\t\t</select>\n\t\t\t\t<button class='hover:rotate-45 duration-200' onClick={() => (showSettings.value = true)}>\n\t\t\t\t\t<SettingsIcon />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<SettingsModal display={showSettings} appSettings={appSettings} />\n\t\t</div>\n\t)\n}\n"]}